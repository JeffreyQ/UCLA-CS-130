{"basePath": "/", "consumes": ["application/json"], "definitions": {"get_my_subscribers": {"properties": {"name": {"type": "string", "description": "name of your follower"}, "follower_id": {"type": "integer", "description": "id of a follower"}}, "type": "object"}, "Poll_Id": {"properties": {"id": {"type": "integer", "description": "poll id"}}, "type": "object", "required": ["id"]}, "create_follow_response": {"properties": {"status": {"type": "string"}}, "type": "object"}, "Response_Fields": {"properties": {"answer": {"type": "integer", "description": "integer value for answer"}, "comment": {"type": "string", "description": "string value of comments"}}, "type": "object", "required": ["answer"]}, "Poll_Fields": {"properties": {"resp_struct": {"$ref": "#/definitions/Response_Struct"}, "owner_id": {"type": "integer", "description": "poll owner id"}, "prompt": {"type": "string", "description": "poll question prompt"}, "id": {"type": "integer", "description": "poll id"}, "form_type": {"enum": ["multChoice", "selectAll", "numScale", "freeResp"], "example": "multChoice", "type": "string", "description": "form type"}, "is_open": {"type": "boolean", "description": "Status of whether poll is still open"}}, "type": "object", "required": ["form_type", "id", "is_open", "owner_id", "prompt"]}, "user_follow_create": {"properties": {"id": {"type": "integer", "description": "id of the user to follow"}}, "type": "object", "required": ["id"]}, "user_get": {"properties": {"name": {"type": "string", "description": "name"}, "id": {"type": "integer", "description": "user id"}, "relationship_status": {"type": "string"}, "email": {"type": "string", "description": "user email"}}, "type": "object", "required": ["id", "name"]}, "user_create": {"properties": {"accessToken": {"type": "string", "description": "facebook access token"}}, "type": "object", "required": ["accessToken"]}, "get_subscribed_to": {"properties": {"name": {"type": "string", "description": "name of who I am following"}, "user_id": {"type": "integer", "description": "id of who I am following"}}, "type": "object"}, "Response_Struct": {"properties": {"options": {"type": "array", "items": {"type": "string"}, "description": "list of answer options"}, "low": {"type": "string", "description": "label for low value on scale"}, "high": {"type": "string", "description": "label for high value on scale"}}, "type": "object"}, "Create_Poll_Fields": {"properties": {"resp_struct": {"$ref": "#/definitions/Response_Struct"}, "form_type": {"enum": ["multChoice", "selectAll", "numScale", "freeResp"], "example": "multChoice", "type": "string", "description": "form type"}, "prompt": {"type": "string", "description": "poll question prompt"}}, "type": "object", "required": ["form_type", "prompt"]}, "Aggregated_Answers": {"properties": {"votes": {"type": "integer", "description": "number of counts for the corresponding answer value"}, "option": {"type": "integer", "description": "answer value"}}, "type": "object"}, "Update_Poll_Fields": {"properties": {"is_open": {"type": "boolean", "description": "Status of whether poll is still open"}}, "type": "object", "required": ["is_open"]}, "user_create_response": {"properties": {"token": {"type": "string"}}, "type": "object"}}, "produces": ["application/json"], "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}}, "paths": {"/poll/": {"get": {"parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "security": [{"Bearer Auth": []}], "operationId": "list of polls created by user", "tags": ["poll"], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/Poll_Fields"}}, "description": "Success"}}}, "post": {"operationId": "create a new poll", "summary": "Creates a new Poll", "security": [{"Bearer Auth": []}], "responses": {"201": {"schema": {"$ref": "#/definitions/Poll_Id"}, "description": "Success"}}, "parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/Create_Poll_Fields"}, "required": true, "in": "body"}, {"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["poll"]}}, "/poll/following": {"get": {"parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "security": [{"Bearer Auth": []}], "operationId": "list of polls user is following", "tags": ["poll"], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/Poll_Fields"}}, "description": "Success"}}}}, "/poll/response/{poll_id}": {"get": {"operationId": "Votes for each answer to a poll", "summary": "gets responses of poll at this id", "security": [{"Bearer Auth": [""]}], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/Aggregated_Answers"}}, "description": "Success"}}, "parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["poll"]}, "parameters": [{"name": "poll_id", "type": "string", "required": true, "in": "path"}], "post": {"operationId": "Vote for answer, comment optional", "summary": "post a response to given poll id", "security": [{"Bearer Auth": []}], "responses": {"201": {"description": "Response successfully posted"}}, "parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/Response_Fields"}, "required": true, "in": "body"}], "tags": ["poll"]}}, "/poll/{poll_id}": {"get": {"operationId": "Get a poll by poll_id", "summary": "Gets poll specified by poll_id", "security": [{"Bearer Auth": []}], "responses": {"200": {"schema": {"$ref": "#/definitions/Poll_Fields"}, "description": "Success"}}, "parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["poll"]}, "patch": {"operationId": "Update a poll's is_open status", "summary": "Updates a Poll", "security": [{"Bearer Auth": []}], "responses": {"200": {"description": "Poll successfully patched"}}, "parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/Update_Poll_Fields"}, "required": true, "in": "body"}], "tags": ["poll"]}, "parameters": [{"name": "poll_id", "type": "string", "required": true, "in": "path"}]}, "/user/": {"get": {"operationId": "list_of_registered_users", "summary": "List all registered users", "security": [{"Bearer Auth": []}], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/user_get"}}, "description": "Success"}}, "parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["user"]}, "post": {"parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/user_create"}, "required": true, "in": "body"}], "operationId": "create a new user", "tags": ["user"], "summary": "Creates a new User", "responses": {"201": {"schema": {"$ref": "#/definitions/user_create_response"}, "description": "Success"}}}}, "/user/confirm": {"post": {"operationId": "confirm a follow request", "summary": "Confirms a follow request", "security": [{"Bearer Auth": []}], "responses": {"200": {"description": "Success"}}, "parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/user_follow_create"}, "required": true, "in": "body"}], "tags": ["user"]}}, "/user/follow": {"post": {"operationId": "create a follow request", "summary": "Creates a follow request", "security": [{"Bearer Auth": []}], "responses": {"201": {"schema": {"$ref": "#/definitions/create_follow_response"}, "description": "Success"}}, "parameters": [{"name": "payload", "schema": {"$ref": "#/definitions/user_follow_create"}, "required": true, "in": "body"}], "tags": ["user"]}}, "/user/me": {"get": {"security": [{"Bearer Auth": []}], "operationId": "get user details", "tags": ["user"], "responses": {"200": {"description": "Success"}}}}, "/user/me/subscribedto": {"get": {"operationId": "get people user is subscribed to", "summary": "get people user is subscribed to", "security": [{"Bearer Auth": []}], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/get_subscribed_to"}}, "description": "Success"}}, "parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["user"]}}, "/user/me/subscribers": {"get": {"operationId": "get subscribers", "summary": "get subscribers", "security": [{"Bearer Auth": []}], "responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/get_my_subscribers"}}, "description": "Success"}}, "parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "tags": ["user"]}}, "/user/{public_id}": {"get": {"parameters": [{"name": "X-Fields", "type": "string", "format": "mask", "in": "header", "description": "An optional fields mask"}], "operationId": "get a user", "tags": ["user"], "summary": "get a user given its identifier", "responses": {"200": {"schema": {"$ref": "#/definitions/user_get"}, "description": "Success"}, "404": {"description": "User not found."}}}, "parameters": [{"name": "public_id", "type": "string", "required": true, "in": "path", "description": "The User identifier"}]}}, "securityDefinitions": {"Bearer Auth": {"name": "Authorization", "type": "apiKey", "in": "header"}}, "swagger": "2.0", "tags": [{"name": "user", "description": "user related operations"}, {"name": "poll", "description": "poll related operations"}], "info": {"title": "Polly API", "version": "1.0", "description": "Polly API"}}